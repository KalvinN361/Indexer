FROM --platform=linux/amd64 node:18

WORKDIR /app
COPY . .
RUN corepack enable
RUN npm install
ENV DB_HOST=34.174.123.226
ENV DB_USERNAME=postgres
ENV DB_PASSWORD=^+L~Ek6uKz&4ffbL
ENV DB_NAME=BillMurray1000
ENV CONTRACT_ID=40000001-0001-0001-0002-000000000003
ENV ALCHEMY_MAINNET_KEY=z8qocrWtyyFzTFcex9x1Joh5fQh7RaGc
ENV ALCHEMY_GOERLI_KEY=xzi06fGmJW6Otg5yC7FE1CQdlhFvvLTi
ENV ALCHEMY_POLYGON_KEY=hvIrefKw6sFiKwtScQFcTmDqwqYPvsFG
ENV ALCHEMY_MUMBAI_KEY=_MJSemF8xKfpmcZqpzV0o6VwR63j_zCX
EXPOSE 3000
CMD ["npx", "ts-node", "src/main.ts"]
